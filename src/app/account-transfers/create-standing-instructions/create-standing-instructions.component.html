<div class="container">
  <mat-card>
    <form [formGroup]="createStandingInstructionsForm">
      <mat-card-content>
        <div class="layout-row-wrap gap-2px responsive-column">
          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.name' | translate }}</mat-label>
            <input matInput required formControlName="name" />
            @if (createStandingInstructionsForm.controls.name.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.name' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.inputs.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.Applicant' | translate }}</mat-label>
            <input matInput formControlName="applicant" />
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.Type' | translate }}</mat-label>
            <mat-select required formControlName="transferType" (selectionChange)="changeEvent()">
              @for (transferType of transferTypeData; track transferType) {
                <mat-option [value]="transferType.id">
                  {{ transferType.value }}
                </mat-option>
              }
            </mat-select>
            @if (createStandingInstructionsForm.controls.transferType.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.Transfer Type' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.inputs.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.Priority' | translate }}</mat-label>
            <mat-select required formControlName="priority">
              @for (priorityType of priorityTypeData; track priorityType) {
                <mat-option [value]="priorityType.id">
                  {{ priorityType.value }}
                </mat-option>
              }
            </mat-select>
            @if (createStandingInstructionsForm.controls.priority.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.Priority' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.Status' | translate }}</mat-label>
            <mat-select required formControlName="status">
              @for (statusType of statusTypeData; track statusType) {
                <mat-option [value]="statusType.id">
                  {{ statusType.value }}
                </mat-option>
              }
            </mat-select>
            @if (createStandingInstructionsForm.controls.status.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.Status' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.From Account Type' | translate }}</mat-label>
            <mat-select required formControlName="fromAccountType" (selectionChange)="changeEvent()">
              @for (fromAccountType of fromAccountTypeData; track fromAccountType) {
                <mat-option [value]="fromAccountType.id">
                  {{ fromAccountType.value }}
                </mat-option>
              }
            </mat-select>
            @if (createStandingInstructionsForm.controls.fromAccountType.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.From Account Type' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.From Account' | translate }}</mat-label>
            <mat-select required formControlName="fromAccountId" (selectionChange)="changeEvent()">
              @for (fromAccount of fromAccountData; track fromAccount) {
                <mat-option [value]="fromAccount.id">
                  {{ fromAccount.productName }} - {{ fromAccount.accountNo }}
                </mat-option>
              }
            </mat-select>
            @if (createStandingInstructionsForm.controls.fromAccountId.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.From Account' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.Destination' | translate }}</mat-label>
            <mat-select required formControlName="destination">
              @for (destinationType of destinationTypeData; track destinationType) {
                <mat-option [value]="destinationType.id">
                  {{ destinationType.value }}
                </mat-option>
              }
            </mat-select>
            @if (createStandingInstructionsForm.controls.destination.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.Destination' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.To Office' | translate }}</mat-label>
            <mat-select [disabled]="ToOfficeId" required formControlName="toOfficeId" (selectionChange)="changeEvent()">
              @for (toOfficeType of toOfficeTypeData; track toOfficeType) {
                <mat-option [value]="toOfficeType.id">
                  {{ toOfficeType.name }}
                </mat-option>
              }
            </mat-select>
            @if (createStandingInstructionsForm.controls.toOfficeId.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.To Office' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.Beneficiary' | translate }}</mat-label>
            <mat-select [disabled]="ToClientId" required formControlName="toClientId" (selectionChange)="changeEvent()">
              @for (toClientType of toClientTypeData; track toClientType) {
                <mat-option [value]="toClientType.id">
                  {{ toClientType.displayName }}
                </mat-option>
              }
            </mat-select>
            @if (createStandingInstructionsForm.controls.toClientId.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.Beneficiary' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.To Account Type' | translate }}</mat-label>
            <mat-select required formControlName="toAccountType" (selectionChange)="changeEvent()">
              @for (toAccountType of toAccountTypeData; track toAccountType) {
                <mat-option [value]="toAccountType.id">
                  {{ toAccountType.value }}
                </mat-option>
              }
            </mat-select>
            @if (createStandingInstructionsForm.controls.toAccountType.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.To Account Type' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.To Account' | translate }}</mat-label>
            <mat-select required formControlName="toAccountId" (selectionChange)="changeEvent()">
              @for (toAccount of toAccountData; track toAccount) {
                <mat-option [value]="toAccount.id">
                  {{ toAccount.productName }} - {{ toAccount.accountNo }}
                </mat-option>
              }
            </mat-select>
            @if (createStandingInstructionsForm.controls.toAccountId.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.To Account' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.Standing Instruction Type' | translate }}</mat-label>
            <mat-select formControlName="instructionType">
              @for (instructionsType of instructionTypeData; track instructionsType) {
                <mat-option [value]="instructionsType.id">
                  {{ instructionsType.value }}
                </mat-option>
              }
            </mat-select>
            @if (createStandingInstructionsForm.controls.instructionType.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.Standing Instruction Type' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.Amount' | translate }}</mat-label>
            <input type="number" matInput required formControlName="amount" />
            @if (createStandingInstructionsForm.controls.amount.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.Amount' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48" (click)="validFromDatePicker.open()">
            <mat-label>{{ 'labels.inputs.Validity from' | translate }}</mat-label>
            <input
              matInput
              [min]="minDate"
              [max]="maxDate"
              [matDatepicker]="validFromDatePicker"
              required
              formControlName="validFrom"
            />
            <mat-datepicker-toggle matSuffix [for]="validFromDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #validFromDatePicker></mat-datepicker>
            @if (createStandingInstructionsForm.controls.validFrom.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.Valid From Date' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48" (click)="validTillDatePicker.open()">
            <mat-label>{{ 'labels.inputs.Validity To' | translate }}</mat-label>
            <input
              matInput
              [min]="minDate"
              [max]="maxDate"
              [matDatepicker]="validTillDatePicker"
              required
              formControlName="validTill"
            />
            <mat-datepicker-toggle matSuffix [for]="validTillDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #validTillDatePicker></mat-datepicker>
            @if (createStandingInstructionsForm.controls.validTill.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.Valid Till Date' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.Recurrence Type' | translate }}</mat-label>
            <mat-select required formControlName="recurrenceType">
              @for (recurrenceType of recurrenceTypeData; track recurrenceType) {
                <mat-option [value]="recurrenceType.id">
                  {{ recurrenceType.value }}
                </mat-option>
              }
            </mat-select>
            @if (createStandingInstructionsForm.controls.recurrenceType.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.Recurrence Type' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.Interval' | translate }}</mat-label>
            <input type="number" matInput required formControlName="recurrenceInterval" />
            @if (createStandingInstructionsForm.controls.recurrenceInterval.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.Recurrence Interval' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48">
            <mat-label>{{ 'labels.inputs.Recurrence Frequency' | translate }}</mat-label>
            <mat-select required formControlName="recurrenceFrequency">
              @for (recurrenceFrequencyType of recurrenceFrequencyTypeData; track recurrenceFrequencyType) {
                <mat-option [value]="recurrenceFrequencyType.id">
                  {{ recurrenceFrequencyType.value }}
                </mat-option>
              }
            </mat-select>
            @if (createStandingInstructionsForm.controls.recurrenceFrequency.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.Recurrence Frequency' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="flex-48" (click)="recurrenceOnMonthDayDatePicker.open()">
            <mat-label>{{ 'labels.inputs.On Month Day' | translate }}</mat-label>
            <input
              required
              matInput
              [min]="minDate"
              [max]="maxDate"
              [matDatepicker]="recurrenceOnMonthDayDatePicker"
              formControlName="recurrenceOnMonthDay"
            />
            <mat-datepicker-toggle matSuffix [for]="recurrenceOnMonthDayDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #recurrenceOnMonthDayDatePicker></mat-datepicker>
            @if (createStandingInstructionsForm.controls.recurrenceOnMonthDay.hasError('required')) {
              <mat-error>
                {{ 'labels.inputs.On Month Day' | translate }} {{ 'labels.commons.is' | translate }}
                <strong>{{ 'labels.commons.required' | translate }}</strong>
              </mat-error>
            }
          </mat-form-field>
        </div>
      </mat-card-content>

      <mat-card-actions class="layout-row align-center gap-5px responsive-column">
        <button type="button" mat-raised-button [routerLink]="['../']">
          {{ 'labels.buttons.Cancel' | translate }}
        </button>
        <button
          mat-raised-button
          color="primary"
          [disabled]="!createStandingInstructionsForm.valid"
          *mifosxHasPermission="'CREATE_STANDINGINSTRUCTION'"
          (click)="submit()"
        >
          {{ 'labels.buttons.Submit' | translate }}
        </button>
      </mat-card-actions>
    </form>
  </mat-card>
</div>
